'use client'
import s from './CaseItem.module.css'
import Image from 'next/image'
import Link from 'next/link'
import { CaseItemType } from '../sections/CasesSection/CasesSection'
import { motion } from 'framer-motion'
import { useState, useEffect } from 'react'
export default function CaseItem({
  item,
  isExpanded,
}: {
  item: CaseItemType
  isExpanded: boolean
}) {
  const [windowWidth, setWindowWidth] = useState(window.innerWidth)

  useEffect(() => {
    const handleResize = () => {
      setWindowWidth(window.innerWidth)
    }

    window.addEventListener('resize', handleResize)
    return window.removeEventListener('resize', () => {})
  }, [])
  return (
    <>
      <div className={`${s.item} ${isExpanded ? s.expanded : ''}`}>
        <div className={s.clientInfo}>
          <motion.div
            initial={{ opacity: 0, y: 50 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={
              windowWidth <= 1024
                ? { duration: 0.5, ease: 'easeOut' }
                : { duration: 0.5, ease: 'easeOut', delay: 0 }
            }
            viewport={{ once: false, amount: 0.2 }}
            className={s.clientInfoMobContainer}
          >
            <h3 className={s.caseTitle}>{item.case_title}</h3>
            <ul className={s.infoList}>
              <li>
                <div className={s.topBlock}>
                  <span>{location}</span>
                  <p>Location:</p>
                </div>
                <p>{item.case_location}</p>
              </li>
              <li>
                <div className={s.topBlock}>
                  <span>{client}</span>
                  <p>Client:</p>
                  {item.case_client !== '' && (
                    <span className={s.websiteLink}>
                      <Link href={item.case_client} target="blank">
                        Website
                      </Link>{' '}
                      {copy}
                    </span>
                  )}
                </div>
                <p dangerouslySetInnerHTML={{ __html: item.case_client_website }}></p>
              </li>
              <li>
                <div className={s.topBlock}>
                  <span>{goal}</span>
                  <p>Goal:</p>
                </div>
                <p dangerouslySetInnerHTML={{ __html: item.case_goal }}></p>
              </li>
            </ul>
          </motion.div>
          <motion.div
            initial={{ opacity: 0, y: 50 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={
              windowWidth <= 1024
                ? { duration: 0.5, ease: 'easeOut' }
                : { duration: 0.5, ease: 'easeOut', delay: 0.5 }
            }
            viewport={{ once: false, amount: 0.2 }}
            className={s.doneWork}
          >
            <div className={s.topBlock}>
              <div className={s.blockTitle}>
                {whatWeDid} <p>What we did:</p>
              </div>
              <div className={s.duration}>
                {clock} <p>{item.case_time}</p>
              </div>
            </div>
            <ul className={s.doneWorkList}>
              {item.case_wwd.map((item) => {
                return (
                  <li key={item.id}>
                    <p dangerouslySetInnerHTML={{ __html: item.point }}></p>{' '}
                  </li>
                )
              })}
            </ul>
            <a href="#call">
              <span>{chat} I want too</span>
            </a>
          </motion.div>
        </div>

        <motion.div
          initial={{ opacity: 0, y: 50 }}
          whileInView={{ opacity: 1, y: 0 }}
          transition={
            windowWidth <= 1024
              ? { duration: 0.5, ease: 'easeOut' }
              : { duration: 0.5, ease: 'easeOut', delay: 1 }
          }
          viewport={{ once: false, amount: 0.2 }}
          className={s.results}
        >
          <Image
            src={`${item.case_image?.url ? item.case_image?.url : ''}`}
            width={543}
            height={628}
            alt="result"
          />
        </motion.div>
        <div className={s.bgCont}></div>
      </div>
    </>
  )
}
const copy = (
  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
    <path
      d="M7.19799 0.823781L4.75892 3.26283C4.75421 3.26752 4.75128 3.27321 4.74659 3.27795C5.34746 3.19043 5.96473 3.25043 6.53694 3.47355L8.19233 1.81816C8.74074 1.26975 9.63266 1.26975 10.1811 1.81816C10.7295 2.36653 10.7295 3.25849 10.1811 3.80686C10.0876 3.90042 7.601 6.38698 7.74202 6.24591C7.18927 6.7987 6.28243 6.77505 5.75328 6.24591C5.47923 5.97185 5.03302 5.97185 4.75892 6.24591L4.33203 6.6728C4.45044 6.87398 4.58619 7.06758 4.75892 7.24031C5.80048 8.28188 7.59331 8.36508 8.72129 7.25264C8.726 7.24795 8.73167 7.245 8.73641 7.24031L11.1755 4.80127C12.2738 3.70289 12.2738 1.92216 11.1755 0.823781C10.0771 -0.274594 8.29637 -0.274594 7.19799 0.823781Z"
      fill="#222222"
    />
    <path
      d="M5.4676 8.52106L3.80687 10.1818C3.2585 10.7302 2.36654 10.7302 1.81817 10.1818C1.26976 9.63338 1.26976 8.74146 1.81817 8.19305C1.91169 8.09953 4.40356 5.60766 4.26254 5.74868C4.81529 5.19593 5.72213 5.21953 6.25128 5.74868C6.52533 6.02278 6.97156 6.02278 7.24564 5.74868L7.67253 5.32179C7.55412 5.1206 7.41837 4.92701 7.24564 4.75432C6.20607 3.7147 4.41455 3.62625 3.28327 4.74197C3.27856 4.74666 3.27289 4.74961 3.26815 4.75432L0.823764 7.19871C-0.274564 8.29704 -0.274611 10.0778 0.823764 11.1762C1.92214 12.2745 3.70292 12.2745 4.80125 11.1762L7.24562 8.73178C7.25033 8.72709 7.25326 8.72145 7.25794 8.71667C6.65708 8.80418 6.03983 8.74418 5.4676 8.52106Z"
      fill="#222222"
    />
  </svg>
)

const location = (
  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
    <path
      d="M6 0C3.519 0 1.5 2.033 1.5 4.5325C1.5 8.084 5.577 11.751 5.7505 11.905C5.822 11.9685 5.911 12 6 12C6.089 12 6.178 11.9685 6.2495 11.9055C6.423 11.751 10.5 8.084 10.5 4.5325C10.5 2.033 8.481 0 6 0ZM6 7C4.6215 7 3.5 5.8785 3.5 4.5C3.5 3.1215 4.6215 2 6 2C7.3785 2 8.5 3.1215 8.5 4.5C8.5 5.8785 7.3785 7 6 7Z"
      fill="white"
    />
  </svg>
)

const client = (
  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
    <g clip-path="url(#clip0_995_4220)">
      <path
        d="M5.91375 5.78043C6.70787 5.78043 7.39552 5.49561 7.95738 4.93367C8.51924 4.37181 8.80405 3.68434 8.80405 2.89013C8.80405 2.09618 8.51924 1.40862 7.95729 0.846585C7.39534 0.284819 6.70778 0 5.91375 0C5.11953 0 4.43206 0.284819 3.87021 0.846676C3.30835 1.40853 3.02344 2.09609 3.02344 2.89013C3.02344 3.68434 3.30835 4.3719 3.8703 4.93376C4.43225 5.49552 5.1198 5.78043 5.91375 5.78043Z"
        fill="white"
      />
      <path
        d="M10.9717 9.2278C10.9555 8.99398 10.9228 8.73891 10.8745 8.46956C10.8258 8.1982 10.7631 7.94167 10.688 7.70721C10.6105 7.46487 10.505 7.22555 10.3746 6.99621C10.2393 6.75817 10.0804 6.5509 9.90203 6.38034C9.71554 6.2019 9.48721 6.05844 9.22317 5.9538C8.96005 5.8497 8.66846 5.79697 8.35654 5.79697C8.23404 5.79697 8.11557 5.84723 7.88678 5.99618C7.74598 6.08801 7.58127 6.19421 7.39744 6.31167C7.24024 6.41183 7.02729 6.50567 6.76426 6.59063C6.50764 6.67367 6.24708 6.71579 5.98991 6.71579C5.73274 6.71579 5.47227 6.67367 5.21538 6.59063C4.95262 6.50577 4.73967 6.41192 4.58266 6.31177C4.40056 6.1954 4.23577 6.0892 4.09285 5.99609C3.86434 5.84714 3.74578 5.79688 3.62328 5.79688C3.31127 5.79688 3.01977 5.8497 2.75674 5.95389C2.49288 6.05835 2.26446 6.20181 2.07779 6.38043C1.89953 6.55108 1.74051 6.75827 1.60537 6.99621C1.4751 7.22555 1.36963 7.46478 1.29199 7.7073C1.21701 7.94176 1.1543 8.1982 1.10559 8.46956C1.05734 8.73854 1.02457 8.9937 1.00836 9.22808C0.992432 9.45769 0.984375 9.696 0.984375 9.93669C0.984375 10.5631 1.1835 11.0702 1.57617 11.4442C1.96399 11.8132 2.47714 12.0005 3.10116 12.0005H8.87921C9.50323 12.0005 10.0162 11.8133 10.4041 11.4442C10.7969 11.0705 10.996 10.5633 10.996 9.9366C10.9959 9.69481 10.9878 9.45632 10.9717 9.2278Z"
        fill="white"
      />
    </g>
    <defs>
      <clipPath id="clip0_995_4220">
        <rect width="12" height="12" fill="white" />
      </clipPath>
    </defs>
  </svg>
)

const goal = (
  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
    <g clip-path="url(#clip0_995_4213)">
      <path
        d="M6 0.374408C2.89562 0.374408 0.375 2.89502 0.375 5.99941C0.375 9.10378 2.89562 11.6244 6 11.6244C9.10438 11.6244 11.625 9.10378 11.625 5.99941C11.625 5.13658 11.4298 4.31894 11.0819 3.58789L10.5234 4.14637C10.418 4.25242 10.2742 4.31222 10.1246 4.31225H9.96936C10.1904 4.8307 10.3129 5.40081 10.3129 5.99941C10.3129 8.37891 8.37951 10.3123 6 10.3123C3.62049 10.3123 1.68713 8.37891 1.68713 5.99941C1.68713 3.6199 3.62049 1.68652 6 1.68652C6.59871 1.68652 7.16897 1.80892 7.6875 2.03003V1.87476C7.68753 1.7252 7.74734 1.58142 7.85339 1.47596L8.4115 0.917496C7.68045 0.569642 6.86283 0.374408 6 0.374408ZM9.55737 0.374408C9.50938 0.375839 9.46377 0.395603 9.42993 0.429664L8.1178 1.74179C8.10028 1.75922 8.08637 1.77995 8.07688 1.80276C8.06739 1.82557 8.0625 1.85002 8.0625 1.87473V3.10998L5.58655 5.58593C5.35958 5.8129 5.35958 6.18695 5.58655 6.41393C5.81352 6.6409 6.18648 6.63979 6.41345 6.4125L8.88904 3.93692H10.1246C10.1493 3.93692 10.1738 3.93204 10.1966 3.92256C10.2194 3.91307 10.2401 3.89918 10.2576 3.88166L11.5697 2.56951C11.5958 2.54324 11.6136 2.50985 11.6207 2.47351C11.6278 2.43717 11.6241 2.39953 11.6098 2.36533C11.5956 2.33114 11.5716 2.30192 11.5408 2.28136C11.51 2.2608 11.4738 2.24982 11.4368 2.2498H10.5762L10.7256 2.10041C10.9526 1.87344 10.9536 1.50046 10.7267 1.27349C10.6132 1.16001 10.4628 1.1032 10.3125 1.1032C10.1623 1.1032 10.0122 1.16003 9.89872 1.27349L9.74966 1.42254V0.560851C9.74957 0.535885 9.74449 0.511185 9.73473 0.488207C9.72497 0.465229 9.71071 0.444443 9.69281 0.427047C9.6749 0.409651 9.6537 0.396001 9.63044 0.386908C9.60719 0.377815 9.58233 0.373776 9.55737 0.374408ZM6 2.99867C4.34537 2.99867 2.99927 4.34477 2.99927 5.99941C2.99927 7.65404 4.34537 8.99868 6 8.99868C7.65463 8.99868 8.99927 7.65404 8.99927 5.99941C8.99927 5.52203 8.88479 5.07186 8.68579 4.67078L7.65857 5.698C7.67636 5.79596 7.68713 5.89641 7.68713 5.99941C7.68713 6.92916 6.92976 7.68652 6 7.68652C5.07024 7.68652 4.31287 6.92916 4.31287 5.99941C4.31287 5.06964 5.07024 4.31225 6 4.31225C6.103 4.31225 6.20342 4.32303 6.30139 4.34082L7.32898 3.31323C6.92787 3.11383 6.47767 2.99867 6 2.99867Z"
        fill="white"
      />
    </g>
    <defs>
      <clipPath id="clip0_995_4213">
        <rect width="12" height="12" fill="white" />
      </clipPath>
    </defs>
  </svg>
)

const whatWeDid = (
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path
      d="M16.19 2H7.81C4.17 2 2 4.17 2 7.81V16.19C2 19.83 4.17 22 7.81 22H16.19C19.83 22 22 19.83 22 16.19V7.81C22 4.17 19.83 2 16.19 2ZM9.97 14.9L7.72 17.15C7.57 17.3 7.38 17.37 7.19 17.37C7 17.37 6.8 17.3 6.66 17.15L5.91 16.4C5.61 16.11 5.61 15.63 5.91 15.34C6.2 15.05 6.67 15.05 6.97 15.34L7.19 15.56L8.91 13.84C9.2 13.55 9.67 13.55 9.97 13.84C10.26 14.13 10.26 14.61 9.97 14.9ZM9.97 7.9L7.72 10.15C7.57 10.3 7.38 10.37 7.19 10.37C7 10.37 6.8 10.3 6.66 10.15L5.91 9.4C5.61 9.11 5.61 8.63 5.91 8.34C6.2 8.05 6.67 8.05 6.97 8.34L7.19 8.56L8.91 6.84C9.2 6.55 9.67 6.55 9.97 6.84C10.26 7.13 10.26 7.61 9.97 7.9ZM17.56 16.62H12.31C11.9 16.62 11.56 16.28 11.56 15.87C11.56 15.46 11.9 15.12 12.31 15.12H17.56C17.98 15.12 18.31 15.46 18.31 15.87C18.31 16.28 17.98 16.62 17.56 16.62ZM17.56 9.62H12.31C11.9 9.62 11.56 9.28 11.56 8.87C11.56 8.46 11.9 8.12 12.31 8.12H17.56C17.98 8.12 18.31 8.46 18.31 8.87C18.31 9.28 17.98 9.62 17.56 9.62Z"
      fill="#FFE414"
    />
  </svg>
)

const clock = (
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
    <g clip-path="url(#clip0_491_2484)">
      <path
        d="M10.0026 0.833984C8.18961 0.833984 6.41733 1.3716 4.90988 2.37885C3.40243 3.38609 2.22752 4.81773 1.53371 6.49272C0.839909 8.16771 0.658379 10.0108 1.01208 11.789C1.36577 13.5671 2.23882 15.2005 3.5208 16.4825C4.80278 17.7644 6.43612 18.6375 8.21428 18.9912C9.99244 19.3449 11.8356 19.1634 13.5105 18.4695C15.1855 17.7757 16.6172 16.6008 17.6244 15.0934C18.6317 13.5859 19.1693 11.8136 19.1693 10.0007C19.1664 7.57038 18.1997 5.24047 16.4813 3.52201C14.7628 1.80354 12.4329 0.836851 10.0026 0.833984ZM13.0918 13.0898C12.9355 13.246 12.7236 13.3338 12.5026 13.3338C12.2816 13.3338 12.0697 13.246 11.9134 13.0898L9.41344 10.5898C9.25715 10.4336 9.16932 10.2216 9.16928 10.0007V5.00065C9.16928 4.77964 9.25707 4.56768 9.41335 4.4114C9.56963 4.25512 9.7816 4.16732 10.0026 4.16732C10.2236 4.16732 10.4356 4.25512 10.5919 4.4114C10.7481 4.56768 10.8359 4.77964 10.8359 5.00065V9.65565L13.0918 11.9115C13.248 12.0678 13.3358 12.2797 13.3358 12.5007C13.3358 12.7216 13.248 12.9335 13.0918 13.0898Z"
        fill="#686868"
      />
    </g>
    <defs>
      <clipPath id="clip0_491_2484">
        <rect width="20" height="20" fill="white" />
      </clipPath>
    </defs>
  </svg>
)

const chat = (
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M14.9722 0.0656837C14.1681 -9.25951e-06 13.1677 0 11.8917 0H8.10831C6.83229 0 5.83189 -9.25951e-06 5.02785 0.0656837C4.2091 0.132577 3.53273 0.271051 2.92051 0.582986C1.91406 1.09579 1.09579 1.91406 0.582986 2.92051C0.271051 3.53273 0.132577 4.20911 0.0656837 5.02785C-9.25951e-06 5.83189 0 6.83229 0 8.10831V12.0728C0 14.3959 1.88317 16.2791 4.20619 16.2791H4.76596C4.99712 16.2791 5.15519 16.5125 5.06934 16.7272C4.43058 18.3241 6.26967 19.7677 7.66921 18.7681L10.0978 17.0334L10.1435 17.0008C10.803 16.5362 11.5887 16.2843 12.3954 16.2792L12.4515 16.2791H13.0987C14.5392 16.2792 15.418 16.2794 16.1562 16.063C17.9043 15.5504 19.2713 14.1833 19.7839 12.4352C20.0004 11.6971 20.0002 10.8184 20 9.37785V8.10829C20 6.8323 20 5.83188 19.9343 5.02785C19.8674 4.2091 19.7289 3.53273 19.417 2.92051C18.9042 1.91406 18.0859 1.09579 17.0794 0.582986C16.4672 0.271051 15.7909 0.132577 14.9722 0.0656837ZM3.55399 1.82625C3.93671 1.63125 4.40902 1.51624 5.14147 1.4564C5.88206 1.39589 6.82557 1.39535 8.13953 1.39535H11.8605C13.1744 1.39535 14.1179 1.39589 14.8585 1.4564C15.591 1.51624 16.0632 1.63125 16.446 1.82625C17.1899 2.20528 17.7947 2.81009 18.1738 3.55399C18.3687 3.93671 18.4837 4.40902 18.5436 5.14147C18.6041 5.88206 18.6046 6.82557 18.6046 8.13953V9.24111C18.6046 10.8615 18.5976 11.5221 18.4449 12.0426C18.066 13.3347 17.0556 14.3451 15.7635 14.724C15.2431 14.8766 14.5824 14.8837 12.962 14.8837H12.4515L12.3865 14.8838C11.2951 14.8908 10.2319 15.2315 9.33972 15.8602L6.85818 17.6326C6.59264 17.8223 6.24369 17.5484 6.36489 17.2454C6.81736 16.1142 5.98429 14.8837 4.76596 14.8837H4.20619C2.6538 14.8837 1.39535 13.6253 1.39535 12.0728V8.13953C1.39535 6.82557 1.39589 5.88206 1.4564 5.14147C1.51624 4.40902 1.63125 3.93671 1.82625 3.55399C2.20528 2.81009 2.81009 2.20528 3.55399 1.82625Z"
    />
    <path d="M7.20812 8.13922C7.20812 8.65298 6.79164 9.06945 6.27789 9.06945C5.76414 9.06945 5.34766 8.65298 5.34766 8.13922C5.34766 7.62547 5.76414 7.20898 6.27789 7.20898C6.79164 7.20898 7.20812 7.62547 7.20812 8.13922Z" />
    <path d="M10.9308 8.13922C10.9308 8.65298 10.5143 9.06945 10.0005 9.06945C9.48678 9.06945 9.07031 8.65298 9.07031 8.13922C9.07031 7.62547 9.48678 7.20898 10.0005 7.20898C10.5143 7.20898 10.9308 7.62547 10.9308 8.13922Z" />
    <path d="M14.6495 8.13922C14.6495 8.65298 14.2331 9.06945 13.7193 9.06945C13.2055 9.06945 12.7891 8.65298 12.7891 8.13922C12.7891 7.62547 13.2055 7.20898 13.7193 7.20898C14.2331 7.20898 14.6495 7.62547 14.6495 8.13922Z" />
  </svg>
)
